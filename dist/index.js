(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var o in r)e.o(r,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:r[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:()=>p});const r=require("react-router-dom"),o=require("react");var n=e.n(o),a=null;const u=function(e){var t=e.element,o=e.meta,u=e.onRouteBefore;o=o||{};var i=(0,r.useLocation)().pathname,c=(0,r.useNavigate)();if(u){if(a===t)return t;var l=u({pathname:i,meta:o});"Promise"===Object.prototype.toString.call(l).match(/\s(\w+)\]/)[1]?l.then((function(e){e&&e!==i&&c(e,{replace:!0})})):l&&l!==i&&(t=n().createElement(r.Navigate,{to:l,replace:!0}))}return a=t,t};function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.routes=t.routes||[],this.onRouteBefore=t.onRouteBefore,this.loading=t.loading||n().createElement("div",null)}var t,o,a;return t=e,o=[{key:"transformRoutes",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.routes,o=[];return t.forEach((function(t){var a=c({},t);void 0!==a.path&&(a.redirect&&(a.element=n().createElement(r.Navigate,{to:a.redirect,replace:!0})),a.component&&(a.element=e.lazyLoad(a.component,a.meta)),delete a.redirect,delete a.component,delete a.meta,a.children&&(a.children=e.transformRoutes(a.children)),o.push(a))})),o}},{key:"lazyLoad",value:function(e,t){t=t||{};var r=n().lazy(e),o=n().createElement(n().Suspense,{fallback:this.loading},n().createElement(r,{_meta:t}));return n().createElement(u,{element:o,meta:t,onRouteBefore:this.onRouteBefore})}}],o&&f(t.prototype,o),a&&f(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();const p=function(e){var t=e.routes,o=e.onRouteBefore,n=e.loading,a=new s({routes:t,onRouteBefore:o,loading:n}).transformRoutes();return(0,r.useRoutes)(a)};exports.default=t.default,Object.defineProperty(exports,"__esModule",{value:!0})})();