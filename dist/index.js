!function(){"use strict";var e={n:function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,{a:r}),r},d:function(t,r){for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:function(){return p}});var r=require("react-router-dom"),n=require("react"),o=e.n(n),a=null;var u=function(e){var t=e.element,n=e.meta,u=e.onRouteBefore;n=n||{};var i=(0,r.useLocation)().pathname,c=(0,r.useNavigate)();if(u){if(a===t)return t;var l=u({pathname:i,meta:n});"Promise"===Object.prototype.toString.call(l).match(/\s(\w+)\]/)[1]?l.then((function(e){e&&e!==i&&c(e,{replace:!0})})):l&&l!==i&&(t=o().createElement(r.Navigate,{to:l,replace:!0}))}return a=t,t};function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.routes=t.routes||[],this.onRouteBefore=t.onRouteBefore,this.loading=t.loading||o().createElement("div",null)}var t,n,a;return t=e,n=[{key:"transformRoutes",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.routes,n=[];return t.forEach((function(t){var a=c({},t);void 0!==a.path&&(a.redirect&&(a.element=o().createElement(r.Navigate,{to:a.redirect,replace:!0})),a.component&&(a.element=e.lazyLoad(a.component,a.meta)),delete a.redirect,delete a.component,delete a.meta,a.children&&(a.children=e.transformRoutes(a.children)),n.push(a))})),n}},{key:"lazyLoad",value:function(e,t){t=t||{};var r=o().lazy(e),n=o().createElement(o().Suspense,{fallback:this.loading},o().createElement(r,{_meta:t}));return o().createElement(u,{element:n,meta:t,onRouteBefore:this.onRouteBefore})}}],n&&f(t.prototype,n),a&&f(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();var p=function(e){var t=e.routes,n=e.onRouteBefore,o=e.loading,a=new s({routes:t,onRouteBefore:n,loading:o}).transformRoutes();return(0,r.useRoutes)(a)};exports.default=t.default,Object.defineProperty(exports,"__esModule",{value:!0})}();